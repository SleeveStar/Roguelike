ㅎ///# 몬스터 생성 규칙 분석 (monster_generation_analysis.txt)

이 문서는 `gameLogic.js`와 `constants.js` 파일을 기반으로 프로젝트의 몬스터 등급 및 스탯 생성 규칙을 설명합니다.

## 1. 몬스터 등급 (Tier) 생성 규칙

몬스터는 'normal', 'elite', 'champion'의 세 가지 등급(Tier)으로 나뉩니다. 등급은 플레이어의 레벨에 따라 확률적으로 결정되며, 등급이 높을수록 더 강력한 능력치와 보상을 가집니다.

### 등급 결정 확률
- **플레이어 레벨 1 ~ 4:**
  - `normal`: 100%
- **플레이어 레벨 5 ~ 9:**
  - `normal`: 70%
  - `elite`: 30%
- **플레이어 레벨 10 이상:**
  - `normal`: 50%
  - `elite`: 35% (전체 중 0.5 * 0.7)
  - `champion`: 15% (전체 중 0.5 * 0.3)

### 등급별 특성 (`MONSTER_TIERS` 객체)
- **normal:** 기본 능력치 (스탯 배율 1.0), 기본 보상
- **elite:** 스탯 배율 1.5, 드랍률 및 희귀도 보너스, 더 높은 골드 보상
- **champion:** 스탯 배율 2.0, 더 높은 드랍률 및 희귀도 보너스, 훨씬 높은 골드 보상

### 보스 (Boss)
- 모든 몬스터는 등급과 별개로 5%의 확률(`BOSS_CHANCE_PERCENT`)로 '보스'가 될 수 있습니다.
- 보스는 일반 몬스터보다 훨씬 높은 스탯 보정을 받으며, 위협도 색상이 고정(자주색)됩니다.

## 2. 몬스터 스탯 생성 규칙

몬스터의 스탯은 `generateMonsterStats(level, isBoss, multiplier, archetype)` 함수를 통해 여러 단계를 거쳐 생성됩니다.

### 스탯 생성 과정

**1단계: 기본 스탯 계산**
몬스터의 레벨(`level`)에 따라 기본적인 HP, 공격력, 방어력, 속도가 결정됩니다.
- `기본 HP = 50 + (레벨 * 18)`
- `기본 공격력 = 5 + (레벨 * 3)`
- `기본 방어력 = 2 + (레벨 * 1.5)`
- `기본 속도 = 5 + (레벨 * 0.5)`

**2단계: 유형 (Archetype) 보정**
모든 몬스터는 `MONSTER_TYPES`에 정의된 특정 '유형(archetype)'을 가집니다. 이 유형에 따라 1단계에서 계산된 기본 스탯에 각기 다른 배율이 적용되어 몬스터의 개성이 결정됩니다.
- **예시 유형:**
  - `tank`: HP와 방어력이 높고, 공격력과 속도가 낮음.
  - `rusher`: 속도와 공격력이 높고, HP와 방어력이 낮음.
  - `glass_cannon`: 공격력이 매우 높은 대신, HP와 방어력이 매우 낮음.
  - `evasive`: 기본 회피율을 가지며 속도가 빠름.
  - `caster`: 마법 공격 위주 (현재는 물리 공격력으로 계산)
  - 기타 등등

**3단계: 보스 (Boss) 보정**
몬스터가 '보스'로 결정된 경우, 스탯이 대폭 증가합니다.
- `HP *= 2.5`
- `공격력 *= 1.8`
- `방어력 *= 1.8`

**4단계: 최종 스탯 계산 (등급 배율 및 변동치 적용)**
위 단계들을 거친 스탯에 마지막으로 몬스터의 '등급(Tier)'에 따른 배율(`stat_multiplier`)과 무작위 변동치(±20%)를 적용하여 최종 스탯을 확정합니다.
- `최종 스탯 = (보정된 스탯) * (등급 배율) * (0.8 ~ 1.2 사이의 무작위 값)`
- 이 과정을 통해 `physicalAttack`, `maxHp` 등 몬스터의 최종 능력치가 결정됩니다.
